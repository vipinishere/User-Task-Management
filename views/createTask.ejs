<div class="bg-slate-50 min-h-screen flex items-center justify-center p-6">
  <div class="w-full max-w-3xl">
    <div class="bg-white shadow-lg rounded-2xl p-6 sm:p-8">
      <h1 class="text-2xl font-semibold mb-4">Create Task</h1>
      <p class="text-sm text-slate-500 mb-6">
        Fill in the details to create a new task.
      </p>

      <form
        action="/tasks/create"
        method="POST"
        enctype="multipart/form-data"
        class="space-y-6"
      >
        <!-- Title -->
        <div>
          <label
            for="title"
            class="block text-sm font-medium text-slate-700 mb-1"
            >Title <span class="text-red-500">*</span></label
          >
          <input
            id="title"
            name="title"
            required
            class="w-full border border-slate-200 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-300"
          />
        </div>

        <!-- Description -->
        <div>
          <label
            for="description"
            class="block text-sm font-medium text-slate-700 mb-1"
            >Description</label
          >
          <textarea
            id="description"
            name="description"
            rows="4"
            class="w-full border border-slate-200 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-300"
          ></textarea>
        </div>

        <div class="grid grid-cols-1 sm:grid-cols-3 gap-4">
          <!-- Status -->
          <div>
            <label
              for="status"
              class="block text-sm font-medium text-slate-700 mb-1"
              >Status</label
            >
            <select
              id="status"
              name="status"
              class="w-full border border-slate-200 rounded-lg px-3 py-2 focus:outline-none"
            >
              <option value="pending">Pending</option>
              <option value="in-progress">In Progress</option>
              <option value="completed">Completed</option>
            </select>
          </div>

          <!-- Priority -->
          <div>
            <label
              for="priority"
              class="block text-sm font-medium text-slate-700 mb-1"
              >Priority</label
            >
            <select
              id="priority"
              name="priority"
              class="w-full border border-slate-200 rounded-lg px-3 py-2 focus:outline-none"
            >
              <option value="low">Low</option>
              <option value="medium" selected>Medium</option>
              <option value="high">High</option>
            </select>
          </div>

          <!-- Deadline -->
          <div>
            <label
              for="deadline"
              class="block text-sm font-medium text-slate-700 mb-1"
              >Deadline</label
            >
            <input
              id="deadline"
              name="deadline"
              type="date"
              class="w-full border border-slate-200 rounded-lg px-3 py-2 focus:outline-none"
            />
          </div>
        </div>

        <!-- Attachments -->
        <div>
          <label
            for="attachments"
            class="block text-sm font-medium text-slate-700 mb-1"
            >Attachments</label
          >
          <input
            id="attachments"
            name="attachments"
            type="file"
            multiple
            class="block w-full text-sm text-slate-600"
          />
          <p class="text-xs text-slate-400 mt-1">
            You can attach multiple files. (optional)
          </p>
        </div>

        <!-- Assigned To (simple input; can add autocomplete later) -->
        <div>
          <label>Assign To (User):</label>
          <input
            type="text"
            id="userInput"
            onkeyup="searchUser()"
            autocomplete="off"
          />
          <input type="hidden" name="assignedTo" id="userId" />
          <ul id="userList"></ul>
        </div>

        <!-- Hidden createdBy (optional; server can render req.user._id into value) -->
        <input
          type="hidden"
          name="createdBy"
          value="<%= (user && user._id) ? user._id : '' %>"
        />

        <!-- Submit -->
        <div class="pt-3 border-t border-slate-100"></div>
        <div class="flex items-center justify-between">
          <a href="/tasks" class="text-sm text-indigo-600 hover:underline"
            >‚Üê Back to tasks</a
          >

          <button
            type="submit"
            class="inline-flex items-center gap-2 bg-indigo-600 text-white px-5 py-2 rounded-lg shadow hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-300"
          >
            Create Task
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
